{"ast":null,"code":"import _slicedToArray from\"C:/Users/elijr/Desktop/CODING/Personal Projects/Portfolio/eco/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{Card,Row,Col,Button,Modal,Form,Toast}from\"react-bootstrap\";import{commentBlog,deleteCommentBlog,likeBlog,deleteBlogPost}from\"../actions/blogActions\";import FormContainer from\"./FormContainer\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BlogPost=function BlogPost(_ref){var blog=_ref.blog;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),toastShow=_useState4[0],setToastShow=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),viewCommentShow=_useState6[0],setViewCommentShow=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),createCommentShow=_useState8[0],setCreateCommentShow=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),comment=_useState10[0],setComment=_useState10[1];var handleViewCommentClose=function handleViewCommentClose(){return setViewCommentShow(false);};var handleViewCommentShow=function handleViewCommentShow(){return setViewCommentShow(true);};var handleCreateCommentClose=function handleCreateCommentClose(){return setCreateCommentShow(false);};var handleCreateCommentShow=function handleCreateCommentShow(){return setCreateCommentShow(true);};var dispatch=useDispatch();var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var likeHandler=function likeHandler(){if(!userInfo){setToastShow(true);setMessage(\"Must be logged in to leave a like\");setTimeout(function(){setMessage(false);},5000);}else{dispatch(likeBlog(blog._id));}};var deleteHandler=function deleteHandler(id){if(window.confirm(\"Are you sure\"))dispatch(deleteBlogPost(id));};var submitHandler=function submitHandler(e){e.preventDefault();if(!userInfo){setToastShow(true);setMessage(\"Must be logged in to leave a comment\");setTimeout(function(){setMessage(false);},5000);}else{dispatch(commentBlog(comment,blog._id));}};return/*#__PURE__*/_jsxs(Card,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xs:6,children:/*#__PURE__*/_jsx(Toast,{onClose:function onClose(){return setToastShow(false);},show:toastShow,delay:3000,autohide:true,children:/*#__PURE__*/_jsx(Toast.Header,{children:message})})})}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:10,children:/*#__PURE__*/_jsx(Link,{to:\"/blog/\".concat(blog._id),children:blog.title})}),userInfo&&userInfo._id===blog.user&&/*#__PURE__*/_jsx(Col,{className:\"d-flex justify-content-end\",md:2,children:/*#__PURE__*/_jsx(Button,{variant:\"outline-dark delete-btn\",onClick:function onClick(){return deleteHandler(blog._id);},children:/*#__PURE__*/_jsx(\"i\",{style:{color:\"red\"},className:\"text-right fas fa-2x fa-times\"})})})]})}),/*#__PURE__*/_jsx(Card.Subtitle,{className:\"text-muted mb-2\",children:\"\".concat(blog.author,\" - \").concat(blog.createdAt.toString().substring(0,10))}),/*#__PURE__*/_jsx(Card.Text,{children:/*#__PURE__*/_jsx(Link,{to:\"/blog/\".concat(blog._id),children:blog.description.length>250?\"\".concat(blog.description.substring(0,50),\" ...Read More\"):blog.description})}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:2,children:userInfo&&blog.likes.find(function(l){return l.userid===userInfo._id;})?/*#__PURE__*/_jsxs(Button,{variant:\"outline-dark like-btn\",onClick:likeHandler,children:[blog.likes.length,\" \",/*#__PURE__*/_jsx(\"i\",{style:{color:\"red\"},className:\" fas fa-heart\"})]}):/*#__PURE__*/_jsxs(Button,{variant:\"outline-dark like-btn\",onClick:likeHandler,children:[blog.likes.length,\" \",/*#__PURE__*/_jsx(\"i\",{style:{color:\"red\"},className:\"far fa-heart\"})]})}),/*#__PURE__*/_jsxs(Col,{md:3,children:[/*#__PURE__*/_jsx(Button,{onClick:handleCreateCommentShow,variant:\"outline-dark like-btn\",children:\"Leave a Comment\"}),/*#__PURE__*/_jsxs(Modal,{show:createCommentShow,onHide:handleCreateCommentClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Leave a Comment\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsx(FormContainer,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(Form.Group,{controlId:\"comment\",children:/*#__PURE__*/_jsx(Form.Control,{onChange:function onChange(e){return setComment(e.target.value);},as:\"textarea\"})}),/*#__PURE__*/_jsx(Button,{variant:\"dark-btn\",type:\"submit\",onClick:handleCreateCommentClose,children:\"Reply\"})]})})})]})]}),blog.replies.length>0&&/*#__PURE__*/_jsxs(Col,{md:3,children:[/*#__PURE__*/_jsx(Button,{onClick:handleViewCommentShow,variant:\"outline-dark like-btn\",children:\"View Comments\"}),/*#__PURE__*/_jsxs(Modal,{show:viewCommentShow,onHide:handleViewCommentClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Post Replies\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:blog.replies.map(function(r){return/*#__PURE__*/_jsxs(Card,{className:\"mb-1\",children:[\" \",/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:/*#__PURE__*/_jsxs(Row,{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(Col,{md:10,children:r.username}),userInfo&&userInfo._id===r.userid&&/*#__PURE__*/_jsx(Col,{md:1,children:/*#__PURE__*/_jsx(Button,{variant:\"outline-dark delete-btn\",onClick:function onClick(){return dispatch(deleteCommentBlog(blog._id,r._id));},children:/*#__PURE__*/_jsx(\"i\",{style:{color:\"red\"},className:\"text-right fas fa-times\"})})})]})}),/*#__PURE__*/_jsx(Card.Subtitle,{className:\"text-muted mb-2\",children:r.createdAt.toString().substring(0,10)}),/*#__PURE__*/_jsx(Card.Text,{children:r.comment})]})]},r._id);})})]})]})]})]})]},blog._id);};export default BlogPost;","map":{"version":3,"sources":["C:/Users/elijr/Desktop/CODING/Personal Projects/Portfolio/eco/frontend/src/components/BlogPost.js"],"names":["React","useState","useSelector","useDispatch","Card","Row","Col","Button","Modal","Form","Toast","commentBlog","deleteCommentBlog","likeBlog","deleteBlogPost","FormContainer","Link","BlogPost","blog","message","setMessage","toastShow","setToastShow","viewCommentShow","setViewCommentShow","createCommentShow","setCreateCommentShow","comment","setComment","handleViewCommentClose","handleViewCommentShow","handleCreateCommentClose","handleCreateCommentShow","dispatch","userLogin","state","userInfo","likeHandler","setTimeout","_id","deleteHandler","id","window","confirm","submitHandler","e","preventDefault","title","user","color","author","createdAt","toString","substring","description","length","likes","find","l","userid","target","value","replies","map","r","username"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Card, Row, Col, Button, Modal, Form, Toast } from \"react-bootstrap\";\r\nimport {\r\n  commentBlog,\r\n  deleteCommentBlog,\r\n  likeBlog,\r\n  deleteBlogPost,\r\n} from \"../actions/blogActions\";\r\nimport FormContainer from \"./FormContainer\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst BlogPost = ({ blog }) => {\r\n  const [message, setMessage] = useState(\"\");\r\n  const [toastShow, setToastShow] = useState(false);\r\n  const [viewCommentShow, setViewCommentShow] = useState(false);\r\n  const [createCommentShow, setCreateCommentShow] = useState(false);\r\n  const [comment, setComment] = useState(\"\");\r\n\r\n  const handleViewCommentClose = () => setViewCommentShow(false);\r\n  const handleViewCommentShow = () => setViewCommentShow(true);\r\n\r\n  const handleCreateCommentClose = () => setCreateCommentShow(false);\r\n  const handleCreateCommentShow = () => setCreateCommentShow(true);\r\n\r\n  const dispatch = useDispatch();\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { userInfo } = userLogin;\r\n\r\n  const likeHandler = () => {\r\n    if (!userInfo) {\r\n      setToastShow(true);\r\n      setMessage(`Must be logged in to leave a like`);\r\n      setTimeout(() => {\r\n        setMessage(false);\r\n      }, 5000);\r\n    } else {\r\n      dispatch(likeBlog(blog._id));\r\n    }\r\n  };\r\n\r\n  const deleteHandler = (id) => {\r\n    if (window.confirm(\"Are you sure\")) dispatch(deleteBlogPost(id));\r\n  };\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (!userInfo) {\r\n      setToastShow(true);\r\n\r\n      setMessage(`Must be logged in to leave a comment`);\r\n      setTimeout(() => {\r\n        setMessage(false);\r\n      }, 5000);\r\n    } else {\r\n      dispatch(commentBlog(comment, blog._id));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card className=\"mb-3\" key={blog._id}>\r\n      <Row>\r\n        <Col xs={6}>\r\n          <Toast\r\n            onClose={() => setToastShow(false)}\r\n            show={toastShow}\r\n            delay={3000}\r\n            autohide\r\n          >\r\n            <Toast.Header>{message}</Toast.Header>\r\n          </Toast>\r\n        </Col>\r\n      </Row>\r\n      <Card.Body>\r\n        <Card.Title>\r\n          <Row>\r\n            <Col md={10}>\r\n              <Link to={`/blog/${blog._id}`}>{blog.title}</Link>\r\n            </Col>\r\n\r\n            {userInfo && userInfo._id === blog.user && (\r\n              <Col className=\"d-flex justify-content-end\" md={2}>\r\n                <Button\r\n                  variant=\"outline-dark delete-btn\"\r\n                  onClick={() => deleteHandler(blog._id)}\r\n                >\r\n                  <i\r\n                    style={{ color: \"red\" }}\r\n                    className=\"text-right fas fa-2x fa-times\"\r\n                  ></i>\r\n                </Button>\r\n              </Col>\r\n            )}\r\n          </Row>\r\n        </Card.Title>\r\n\r\n        <Card.Subtitle className=\"text-muted mb-2\">\r\n          {`${blog.author} - ${blog.createdAt.toString().substring(0, 10)}`}\r\n        </Card.Subtitle>\r\n        <Card.Text>\r\n          <Link to={`/blog/${blog._id}`}>\r\n            {blog.description.length > 250\r\n              ? `${blog.description.substring(0, 50)} ...Read More`\r\n              : blog.description}\r\n          </Link>\r\n        </Card.Text>\r\n        <Row>\r\n          <Col md={2}>\r\n            {userInfo && blog.likes.find((l) => l.userid === userInfo._id) ? (\r\n              <Button variant=\"outline-dark like-btn\" onClick={likeHandler}>\r\n                {blog.likes.length}{\" \"}\r\n                <i style={{ color: \"red\" }} className=\" fas fa-heart\"></i>\r\n              </Button>\r\n            ) : (\r\n              <Button variant=\"outline-dark like-btn\" onClick={likeHandler}>\r\n                {blog.likes.length}{\" \"}\r\n                <i style={{ color: \"red\" }} className=\"far fa-heart\"></i>\r\n              </Button>\r\n            )}\r\n          </Col>\r\n          <Col md={3}>\r\n            <Button\r\n              onClick={handleCreateCommentShow}\r\n              variant=\"outline-dark like-btn\"\r\n            >\r\n              Leave a Comment\r\n            </Button>\r\n            <Modal show={createCommentShow} onHide={handleCreateCommentClose}>\r\n              <Modal.Header closeButton>\r\n                <Modal.Title>Leave a Comment</Modal.Title>\r\n              </Modal.Header>\r\n              <Modal.Body>\r\n                <FormContainer>\r\n                  <Form onSubmit={submitHandler}>\r\n                    <Form.Group controlId=\"comment\">\r\n                      <Form.Control\r\n                        onChange={(e) => setComment(e.target.value)}\r\n                        as=\"textarea\"\r\n                      ></Form.Control>\r\n                    </Form.Group>\r\n                    <Button\r\n                      variant=\"dark-btn\"\r\n                      type=\"submit\"\r\n                      onClick={handleCreateCommentClose}\r\n                    >\r\n                      Reply\r\n                    </Button>\r\n                  </Form>\r\n                </FormContainer>\r\n              </Modal.Body>\r\n            </Modal>\r\n          </Col>\r\n          {blog.replies.length > 0 && (\r\n            <Col md={3}>\r\n              <Button\r\n                onClick={handleViewCommentShow}\r\n                variant=\"outline-dark like-btn\"\r\n              >\r\n                View Comments\r\n              </Button>\r\n              <Modal show={viewCommentShow} onHide={handleViewCommentClose}>\r\n                <Modal.Header closeButton>\r\n                  <Modal.Title>Post Replies</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                  {blog.replies.map((r) => (\r\n                    <Card className=\"mb-1\" key={r._id}>\r\n                      {\" \"}\r\n                      <Card.Body>\r\n                        <Card.Title>\r\n                          <Row className=\"d-flex justify-content-between\">\r\n                            <Col md={10}>{r.username}</Col>\r\n                            {userInfo && userInfo._id === r.userid && (\r\n                              <Col md={1}>\r\n                                <Button\r\n                                  variant=\"outline-dark delete-btn\"\r\n                                  onClick={() =>\r\n                                    dispatch(deleteCommentBlog(blog._id, r._id))\r\n                                  }\r\n                                >\r\n                                  <i\r\n                                    style={{ color: \"red\" }}\r\n                                    className=\"text-right fas fa-times\"\r\n                                  ></i>\r\n                                </Button>\r\n                              </Col>\r\n                            )}\r\n                          </Row>\r\n                        </Card.Title>\r\n                        <Card.Subtitle className=\"text-muted mb-2\">\r\n                          {r.createdAt.toString().substring(0, 10)}\r\n                        </Card.Subtitle>\r\n                        <Card.Text>{r.comment}</Card.Text>\r\n                      </Card.Body>\r\n                    </Card>\r\n                  ))}\r\n                </Modal.Body>\r\n              </Modal>\r\n            </Col>\r\n          )}\r\n        </Row>\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default BlogPost;\r\n"]},"metadata":{},"sourceType":"module"}