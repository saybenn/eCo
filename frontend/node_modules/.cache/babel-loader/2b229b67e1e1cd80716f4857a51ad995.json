{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/elijr/Desktop/CODING/Personal Projects/Portfolio/eco/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/elijr/Desktop/CODING/Personal Projects/Portfolio/eco/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import{LOGIN_USER_FAIL,LOGIN_USER_REQUEST,LOGIN_USER_SUCCESS,LOGOUT_USER_FAIL,LOGOUT_USER_SUCCESS,REGISTER_USER_FAIL,REGISTER_USER_REQUEST,REGISTER_USER_SUCCESS,UPDATE_PROFILE_FAIL,UPDATE_PROFILE_REQUEST,UPDATE_PROFILE_SUCCESS,USER_DETAILS_FAIL,USER_DETAILS_REQUEST,USER_DETAILS_SUCCESS,USER_SHIPPING_SAVE_FAIL,USER_SHIPPING_SAVE_REQUEST,USER_SHIPPING_SAVE_SUCCESS,USER_LIST_SUCCESS,USER_LIST_FAIL,USER_LIST_REQUEST,USER_DELETE_FAIL,USER_DELETE_SUCCESS,USER_DELETE_REQUEST,USER_UPDATE_FAIL,USER_UPDATE_SUCCESS,USER_UPDATE_REQUEST,USER_AUTHOR_SUCCESS,USER_AUTHOR_FAIL,USER_AUTHOR_REQUEST,USER_PROFILE_REQUEST,USER_PROFILE_SUCCESS,USER_PROFILE_FAIL,USER_PROFILE_RESET}from\"../constants/userConstants\";export var register=function register(name,email,password){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var config,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:REGISTER_USER_REQUEST});config={headers:{\"Content-Type\":\"application/json\"}};_context.next=5;return axios.post(\"/api/users\",{name:name,email:email,password:password},config);case 5:_yield$axios$post=_context.sent;data=_yield$axios$post.data;dispatch({type:REGISTER_USER_SUCCESS,payload:data});localStorage.setItem(\"userInfo\",JSON.stringify(data));_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);dispatch({type:REGISTER_USER_FAIL,payload:_context.t0.response&&_context.t0.response.data.message?_context.t0.response.data.message:_context.t0.message});case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var login=function login(email,password){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var config,_yield$axios$post2,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:LOGIN_USER_REQUEST});config={headers:{\"Content-Type\":\"application/json\"}};_context2.next=5;return axios.post(\"/api/users/login\",{email:email,password:password},config);case 5:_yield$axios$post2=_context2.sent;data=_yield$axios$post2.data;dispatch({type:LOGIN_USER_SUCCESS,payload:data});localStorage.setItem(\"userInfo\",JSON.stringify(data));_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);dispatch({type:LOGIN_USER_FAIL,payload:_context2.t0.response&&_context2.t0.response.data.message?_context2.t0.response.data.message:_context2.t0.message});case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[0,11]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var logout=function logout(){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:try{localStorage.removeItem(\"userInfo\");dispatch({type:LOGOUT_USER_SUCCESS});dispatch({type:USER_PROFILE_RESET});}catch(error){dispatch({type:LOGOUT_USER_FAIL,payload:error.response&&error.response.data.message?error.response.data.message:error.message});}case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var getUserProfile=function getUserProfile(){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch,getState){var _getState,userInfo,config,_yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;dispatch({type:USER_PROFILE_REQUEST});_getState=getState(),userInfo=_getState.userLogin.userInfo;config={headers:{Authorization:\"Bearer \".concat(userInfo.token)}};_context4.next=6;return axios.get(\"/api/users/profile\",config);case 6:_yield$axios$get=_context4.sent;data=_yield$axios$get.data;dispatch({type:USER_PROFILE_SUCCESS,payload:data});_context4.next=14;break;case 11:_context4.prev=11;_context4.t0=_context4[\"catch\"](0);dispatch({type:USER_PROFILE_FAIL,payload:_context4.t0.response&&_context4.t0.response.data.message?_context4.t0.response.data.message:_context4.t0.message});case 14:case\"end\":return _context4.stop();}}},_callee4,null,[[0,11]]);}));return function(_x4,_x5){return _ref4.apply(this,arguments);};}();};export var getUserDetails=function getUserDetails(id){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch,getState){var _getState2,userInfo,config,_yield$axios$get2,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;dispatch({type:USER_DETAILS_REQUEST});_getState2=getState(),userInfo=_getState2.userLogin.userInfo;config={headers:{Authorization:\"Bearer \".concat(userInfo.token)}};_context5.next=6;return axios.get(\"/api/users/\".concat(id),config);case 6:_yield$axios$get2=_context5.sent;data=_yield$axios$get2.data;dispatch({type:USER_DETAILS_SUCCESS,payload:data});_context5.next=14;break;case 11:_context5.prev=11;_context5.t0=_context5[\"catch\"](0);dispatch({type:USER_DETAILS_FAIL,payload:_context5.t0.response&&_context5.t0.response.data.message?_context5.t0.response.data.message:_context5.t0.message});case 14:case\"end\":return _context5.stop();}}},_callee5,null,[[0,11]]);}));return function(_x6,_x7){return _ref5.apply(this,arguments);};}();};export var listUsers=function listUsers(){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch,getState){var _getState3,userInfo,config,_yield$axios$get3,data;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;dispatch({type:USER_LIST_REQUEST});_getState3=getState(),userInfo=_getState3.userLogin.userInfo;config={headers:{Authorization:\"Bearer \".concat(userInfo.token)}};_context6.next=6;return axios.get(\"/api/users\",config);case 6:_yield$axios$get3=_context6.sent;data=_yield$axios$get3.data;dispatch({type:USER_LIST_SUCCESS,payload:data});_context6.next=14;break;case 11:_context6.prev=11;_context6.t0=_context6[\"catch\"](0);dispatch({type:USER_LIST_FAIL,payload:_context6.t0.response&&_context6.t0.response.data.message?_context6.t0.response.data.message:_context6.t0.message});case 14:case\"end\":return _context6.stop();}}},_callee6,null,[[0,11]]);}));return function(_x8,_x9){return _ref6.apply(this,arguments);};}();};export var deleteUser=function deleteUser(id){return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch,getState){var _getState4,userInfo,config,_yield$axios$delete,data;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;dispatch({type:USER_DELETE_REQUEST});_getState4=getState(),userInfo=_getState4.userLogin.userInfo;config={headers:{Authorization:\"Bearer \".concat(userInfo.token)}};_context7.next=6;return axios.delete(\"/api/users/\".concat(id),config);case 6:_yield$axios$delete=_context7.sent;data=_yield$axios$delete.data;dispatch({type:USER_DELETE_SUCCESS,payload:data});_context7.next=14;break;case 11:_context7.prev=11;_context7.t0=_context7[\"catch\"](0);dispatch({type:USER_DELETE_FAIL,payload:_context7.t0.response&&_context7.t0.response.data.message?_context7.t0.response.data.message:_context7.t0.message});case 14:case\"end\":return _context7.stop();}}},_callee7,null,[[0,11]]);}));return function(_x10,_x11){return _ref7.apply(this,arguments);};}();};export var requestAuthorship=function requestAuthorship(id){return/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(dispatch,getState){var _getState5,userInfo,config;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.prev=0;dispatch({type:USER_AUTHOR_REQUEST});_getState5=getState(),userInfo=_getState5.userLogin.userInfo;config={headers:{Authorization:\"Bearer \".concat(userInfo.token)}};_context8.next=6;return axios.put(\"/api/users/\".concat(id,\"/author\"),{},config);case 6:dispatch({type:USER_AUTHOR_SUCCESS});_context8.next=12;break;case 9:_context8.prev=9;_context8.t0=_context8[\"catch\"](0);dispatch({type:USER_AUTHOR_FAIL,payload:_context8.t0.response&&_context8.t0.response.data.message?_context8.t0.response.data.message:_context8.t0.message});case 12:case\"end\":return _context8.stop();}}},_callee8,null,[[0,9]]);}));return function(_x12,_x13){return _ref8.apply(this,arguments);};}();};export var updateUser=function updateUser(id,name,email,isAdmin,isAuthor){return/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(dispatch,getState){var _getState6,userInfo,config,_yield$axios$put,data;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.prev=0;dispatch({type:USER_UPDATE_REQUEST});_getState6=getState(),userInfo=_getState6.userLogin.userInfo;config={headers:{Authorization:\"Bearer \".concat(userInfo.token)}};_context9.next=6;return axios.put(\"/api/users/\".concat(id),{name:name,email:email,isAdmin:isAdmin,isAuthor:isAuthor},config);case 6:_yield$axios$put=_context9.sent;data=_yield$axios$put.data;dispatch({type:USER_UPDATE_SUCCESS,payload:data});_context9.next=14;break;case 11:_context9.prev=11;_context9.t0=_context9[\"catch\"](0);dispatch({type:USER_UPDATE_FAIL,payload:_context9.t0.response&&_context9.t0.response.data.message?_context9.t0.response.data.message:_context9.t0.message});case 14:case\"end\":return _context9.stop();}}},_callee9,null,[[0,11]]);}));return function(_x14,_x15){return _ref9.apply(this,arguments);};}();};export var updateProfile=function updateProfile(name,email,password){var authorRequest=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;return/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(dispatch,getState){var _getState7,userInfo,config,_yield$axios$put2,data;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.prev=0;dispatch({type:UPDATE_PROFILE_REQUEST});_getState7=getState(),userInfo=_getState7.userLogin.userInfo;config={headers:{Authorization:\"Bearer \".concat(userInfo.token)}};_context10.next=6;return axios.put(\"/api/users/profile\",{name:name,email:email,password:password,authorRequest:authorRequest},config);case 6:_yield$axios$put2=_context10.sent;data=_yield$axios$put2.data;dispatch({type:UPDATE_PROFILE_SUCCESS,payload:data});_context10.next=14;break;case 11:_context10.prev=11;_context10.t0=_context10[\"catch\"](0);dispatch({type:UPDATE_PROFILE_FAIL,payload:_context10.t0.response&&_context10.t0.response.data.message?_context10.t0.response.data.message:_context10.t0.message});case 14:case\"end\":return _context10.stop();}}},_callee10,null,[[0,11]]);}));return function(_x16,_x17){return _ref10.apply(this,arguments);};}();};export var saveShippingAddress=function saveShippingAddress(address,city,state,postalCode,country){return/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(dispatch,getState){var _getState8,userInfo,config,_yield$axios$put3,data;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.prev=0;dispatch({type:USER_SHIPPING_SAVE_REQUEST});_getState8=getState(),userInfo=_getState8.userLogin.userInfo;config={headers:{Authorization:\"Bearer \".concat(userInfo.token)}};_context11.next=6;return axios.put(\"/api/users/shipping\",{address:address,city:city,state:state,postalCode:postalCode,country:country},config);case 6:_yield$axios$put3=_context11.sent;data=_yield$axios$put3.data;dispatch({type:USER_SHIPPING_SAVE_SUCCESS,payload:data});_context11.next=14;break;case 11:_context11.prev=11;_context11.t0=_context11[\"catch\"](0);dispatch({type:USER_SHIPPING_SAVE_FAIL,payload:_context11.t0.response&&_context11.t0.response.data.message?_context11.t0.response.data.message:_context11.t0.message});case 14:case\"end\":return _context11.stop();}}},_callee11,null,[[0,11]]);}));return function(_x18,_x19){return _ref11.apply(this,arguments);};}();};","map":{"version":3,"sources":["C:/Users/elijr/Desktop/CODING/Personal Projects/Portfolio/eco/frontend/src/actions/userActions.js"],"names":["axios","LOGIN_USER_FAIL","LOGIN_USER_REQUEST","LOGIN_USER_SUCCESS","LOGOUT_USER_FAIL","LOGOUT_USER_SUCCESS","REGISTER_USER_FAIL","REGISTER_USER_REQUEST","REGISTER_USER_SUCCESS","UPDATE_PROFILE_FAIL","UPDATE_PROFILE_REQUEST","UPDATE_PROFILE_SUCCESS","USER_DETAILS_FAIL","USER_DETAILS_REQUEST","USER_DETAILS_SUCCESS","USER_SHIPPING_SAVE_FAIL","USER_SHIPPING_SAVE_REQUEST","USER_SHIPPING_SAVE_SUCCESS","USER_LIST_SUCCESS","USER_LIST_FAIL","USER_LIST_REQUEST","USER_DELETE_FAIL","USER_DELETE_SUCCESS","USER_DELETE_REQUEST","USER_UPDATE_FAIL","USER_UPDATE_SUCCESS","USER_UPDATE_REQUEST","USER_AUTHOR_SUCCESS","USER_AUTHOR_FAIL","USER_AUTHOR_REQUEST","USER_PROFILE_REQUEST","USER_PROFILE_SUCCESS","USER_PROFILE_FAIL","USER_PROFILE_RESET","register","name","email","password","dispatch","type","config","headers","post","data","payload","localStorage","setItem","JSON","stringify","response","message","login","logout","removeItem","error","getUserProfile","getState","userInfo","userLogin","Authorization","token","get","getUserDetails","id","listUsers","deleteUser","delete","requestAuthorship","put","updateUser","isAdmin","isAuthor","updateProfile","authorRequest","saveShippingAddress","address","city","state","postalCode","country"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport {\r\n  LOGIN_USER_FAIL,\r\n  LOGIN_USER_REQUEST,\r\n  LOGIN_USER_SUCCESS,\r\n  LOGOUT_USER_FAIL,\r\n  LOGOUT_USER_SUCCESS,\r\n  REGISTER_USER_FAIL,\r\n  REGISTER_USER_REQUEST,\r\n  REGISTER_USER_SUCCESS,\r\n  UPDATE_PROFILE_FAIL,\r\n  UPDATE_PROFILE_REQUEST,\r\n  UPDATE_PROFILE_SUCCESS,\r\n  USER_DETAILS_FAIL,\r\n  USER_DETAILS_REQUEST,\r\n  USER_DETAILS_SUCCESS,\r\n  USER_SHIPPING_SAVE_FAIL,\r\n  USER_SHIPPING_SAVE_REQUEST,\r\n  USER_SHIPPING_SAVE_SUCCESS,\r\n  USER_LIST_SUCCESS,\r\n  USER_LIST_FAIL,\r\n  USER_LIST_REQUEST,\r\n  USER_DELETE_FAIL,\r\n  USER_DELETE_SUCCESS,\r\n  USER_DELETE_REQUEST,\r\n  USER_UPDATE_FAIL,\r\n  USER_UPDATE_SUCCESS,\r\n  USER_UPDATE_REQUEST,\r\n  USER_AUTHOR_SUCCESS,\r\n  USER_AUTHOR_FAIL,\r\n  USER_AUTHOR_REQUEST,\r\n  USER_PROFILE_REQUEST,\r\n  USER_PROFILE_SUCCESS,\r\n  USER_PROFILE_FAIL,\r\n  USER_PROFILE_RESET,\r\n} from \"../constants/userConstants\";\r\n\r\nexport const register = (name, email, password) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: REGISTER_USER_REQUEST });\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n    const { data } = await axios.post(\r\n      \"/api/users\",\r\n      { name, email, password },\r\n      config\r\n    );\r\n\r\n    dispatch({ type: REGISTER_USER_SUCCESS, payload: data });\r\n    localStorage.setItem(\"userInfo\", JSON.stringify(data));\r\n  } catch (error) {\r\n    dispatch({\r\n      type: REGISTER_USER_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const login = (email, password) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: LOGIN_USER_REQUEST });\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n    const { data } = await axios.post(\r\n      \"/api/users/login\",\r\n      { email, password },\r\n      config\r\n    );\r\n    dispatch({ type: LOGIN_USER_SUCCESS, payload: data });\r\n    localStorage.setItem(\"userInfo\", JSON.stringify(data));\r\n  } catch (error) {\r\n    dispatch({\r\n      type: LOGIN_USER_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  try {\r\n    localStorage.removeItem(\"userInfo\");\r\n    dispatch({ type: LOGOUT_USER_SUCCESS });\r\n    dispatch({ type: USER_PROFILE_RESET });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: LOGOUT_USER_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getUserProfile = () => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: USER_PROFILE_REQUEST });\r\n\r\n    const {\r\n      userLogin: { userInfo },\r\n    } = getState();\r\n\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.get(`/api/users/profile`, config);\r\n\r\n    dispatch({ type: USER_PROFILE_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_PROFILE_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getUserDetails = (id) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: USER_DETAILS_REQUEST });\r\n\r\n    const {\r\n      userLogin: { userInfo },\r\n    } = getState();\r\n\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.get(`/api/users/${id}`, config);\r\n\r\n    dispatch({ type: USER_DETAILS_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_DETAILS_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const listUsers = () => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: USER_LIST_REQUEST });\r\n\r\n    const {\r\n      userLogin: { userInfo },\r\n    } = getState();\r\n\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.get(`/api/users`, config);\r\n\r\n    dispatch({ type: USER_LIST_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_LIST_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteUser = (id) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: USER_DELETE_REQUEST });\r\n\r\n    const {\r\n      userLogin: { userInfo },\r\n    } = getState();\r\n\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.delete(`/api/users/${id}`, config);\r\n\r\n    dispatch({ type: USER_DELETE_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_DELETE_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const requestAuthorship = (id) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: USER_AUTHOR_REQUEST });\r\n\r\n    const {\r\n      userLogin: { userInfo },\r\n    } = getState();\r\n\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n    await axios.put(`/api/users/${id}/author`, {}, config);\r\n\r\n    dispatch({ type: USER_AUTHOR_SUCCESS });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_AUTHOR_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateUser =\r\n  (id, name, email, isAdmin, isAuthor) => async (dispatch, getState) => {\r\n    try {\r\n      dispatch({ type: USER_UPDATE_REQUEST });\r\n\r\n      const {\r\n        userLogin: { userInfo },\r\n      } = getState();\r\n\r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n      };\r\n\r\n      const { data } = await axios.put(\r\n        `/api/users/${id}`,\r\n        { name, email, isAdmin, isAuthor },\r\n        config\r\n      );\r\n\r\n      dispatch({ type: USER_UPDATE_SUCCESS, payload: data });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: USER_UPDATE_FAIL,\r\n        payload:\r\n          error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n      });\r\n    }\r\n  };\r\n\r\nexport const updateProfile =\r\n  (name, email, password, authorRequest = false) =>\r\n  async (dispatch, getState) => {\r\n    try {\r\n      dispatch({ type: UPDATE_PROFILE_REQUEST });\r\n\r\n      const {\r\n        userLogin: { userInfo },\r\n      } = getState();\r\n\r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n      };\r\n\r\n      const { data } = await axios.put(\r\n        `/api/users/profile`,\r\n        { name, email, password, authorRequest },\r\n        config\r\n      );\r\n\r\n      dispatch({ type: UPDATE_PROFILE_SUCCESS, payload: data });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: UPDATE_PROFILE_FAIL,\r\n        payload:\r\n          error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n      });\r\n    }\r\n  };\r\n\r\nexport const saveShippingAddress =\r\n  (address, city, state, postalCode, country) => async (dispatch, getState) => {\r\n    try {\r\n      dispatch({ type: USER_SHIPPING_SAVE_REQUEST });\r\n\r\n      const {\r\n        userLogin: { userInfo },\r\n      } = getState();\r\n\r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n      };\r\n\r\n      const { data } = await axios.put(\r\n        \"/api/users/shipping\",\r\n        { address, city, state, postalCode, country },\r\n        config\r\n      );\r\n\r\n      dispatch({ type: USER_SHIPPING_SAVE_SUCCESS, payload: data });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: USER_SHIPPING_SAVE_FAIL,\r\n        payload:\r\n          error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n      });\r\n    }\r\n  };\r\n"]},"metadata":{},"sourceType":"module"}