{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/elijr/Desktop/CODING/Personal Projects/Portfolio/eco/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/elijr/Desktop/CODING/Personal Projects/Portfolio/eco/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/elijr/Desktop/CODING/Personal Projects/Portfolio/eco/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{Link,useNavigate,useParams}from\"react-router-dom\";import{Row,Col,ListGroup,Image,Card,Button}from\"react-bootstrap\";import{useDispatch,useSelector}from\"react-redux\";import Container from\"../components/Container\";import Message from\"../components/Message\";import Loader from\"../components/Loader\";import{getOrder,deliverOrder}from\"../actions/orderActions\";import{DELIVER_ORDER_RESET}from\"../constants/orderConstants\";import{logout}from\"../actions/userActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var OrderScreen=function OrderScreen(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),sent=_useState2[0],setSent=_useState2[1];var dispatch=useDispatch();var navigate=useNavigate();var _useParams=useParams(),id=_useParams.id;var orderDetails=useSelector(function(state){return state.orderDetails;});var order=orderDetails.order,error=orderDetails.error,loading=orderDetails.loading;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var orderDeliver=useSelector(function(state){return state.orderDeliver;});var successDeliver=orderDeliver.success,loadingDeliver=orderDeliver.loading;useEffect(function(){if(!userInfo){dispatch(logout());navigate(\"/login\");}dispatch(getOrder(id));if(successDeliver){dispatch({type:DELIVER_ORDER_RESET});dispatch(getOrder(id));}},[dispatch,navigate,id,successDeliver,userInfo]);var deliverHandler=function deliverHandler(){dispatch(deliverOrder(order));};var receiptHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setSent(true);_context.prev=1;_context.next=4;return axios.post(\"http://localhost:3000/send_thankyou\",{order:order});case 4:_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[1,6]]);}));return function receiptHandler(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Container,{children:[sent&&/*#__PURE__*/_jsx(Message,{variant:\"success\",children:\"Receipt was sent toy our email\"}),error&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}),loading&&/*#__PURE__*/_jsx(Loader,{}),order&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Order: \",order._id]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:8,children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Shipping\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name: \"}),\" \",order.user.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email: \"}),order.user.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Address: \"}),order.shippingAddress.address,\" \",order.shippingAddress.city,\",\",\" \",order.shippingAddress.state,\" \",order.shippingAddress.postalCode,\", \",order.shippingAddress.country]}),order.isDelivered?/*#__PURE__*/_jsxs(Message,{variant:\"success\",children:[\"Delivered on \",order.deliveredAt.slice(0,10)]}):/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:\"Order is not delivered\"})]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Payment Method\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Method: \"}),order.paymentMethod]}),order.isPaid?/*#__PURE__*/_jsxs(Message,{variant:\"success\",children:[\"Paid on \",order.paidAt.slice(0,10)]}):/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:\"Order is not paid.\"})]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Order Items\"}),order.orderItems.length===0?/*#__PURE__*/_jsx(Message,{children:\"Order is empty!\"}):/*#__PURE__*/_jsx(ListGroup,{variant:\"flush\",children:order.orderItems.map(function(item,index){return/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:1,children:/*#__PURE__*/_jsx(Image,{src:item.image,alt:item.name,fluid:true,rounded:true})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(item.productId),children:item.name})}),/*#__PURE__*/_jsxs(Col,{md:2,children:[\"Qty: \",item.qty]}),/*#__PURE__*/_jsxs(Col,{md:2,children:[\"Price: $\",item.price]}),/*#__PURE__*/_jsxs(Col,{md:4,children:[\"Total: \",item.qty,\" * $\",item.price,\" = $\",\"\".concat((item.qty*item.price).toFixed(2))]})]})},index);})})]})]})}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(\"h2\",{children:\"Order Summary\"})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Items\"}),/*#__PURE__*/_jsxs(Col,{children:[\"$\",order.itemsPrice.toFixed(2)]})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Shipping\"}),/*#__PURE__*/_jsxs(Col,{children:[\"$\",order.shippingPrice.toFixed(2)]})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Tax\"}),/*#__PURE__*/_jsxs(Col,{children:[\"$\",order.taxPrice.toFixed(2)]})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Total\"}),/*#__PURE__*/_jsxs(Col,{children:[\"$\",order.totalPrice.toFixed(2)]})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(Button,{onClick:receiptHandler,variant:\"dark\",children:\"Email Receipt\"})}),loadingDeliver&&/*#__PURE__*/_jsx(Loader,{}),userInfo&&userInfo.isAdmin&&order.isPaid&&!order.isDelivered&&/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Button,{type:\"button\",className:\"btn btn-block\",onClick:deliverHandler,children:[\" \",\"Mark As Delivered\"]})})]})})})]})]})]})});};export default OrderScreen;","map":{"version":3,"sources":["C:/Users/elijr/Desktop/CODING/Personal Projects/Portfolio/eco/frontend/src/screens/OrderReviewScreen.js"],"names":["React","useEffect","useState","axios","Link","useNavigate","useParams","Row","Col","ListGroup","Image","Card","Button","useDispatch","useSelector","Container","Message","Loader","getOrder","deliverOrder","DELIVER_ORDER_RESET","logout","OrderScreen","sent","setSent","dispatch","navigate","id","orderDetails","state","order","error","loading","userLogin","userInfo","orderDeliver","successDeliver","success","loadingDeliver","type","deliverHandler","receiptHandler","post","console","log","_id","user","name","email","shippingAddress","address","city","postalCode","country","isDelivered","deliveredAt","slice","paymentMethod","isPaid","paidAt","orderItems","length","map","item","index","image","productId","qty","price","toFixed","itemsPrice","shippingPrice","taxPrice","totalPrice","isAdmin"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\r\nimport { Row, Col, ListGroup, Image, Card, Button } from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Container from \"../components/Container\";\r\nimport Message from \"../components/Message\";\r\nimport Loader from \"../components/Loader\";\r\nimport { getOrder, deliverOrder } from \"../actions/orderActions\";\r\nimport { DELIVER_ORDER_RESET } from \"../constants/orderConstants\";\r\nimport { logout } from \"../actions/userActions\";\r\n\r\nconst OrderScreen = () => {\r\n  const [sent, setSent] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const { id } = useParams();\r\n\r\n  const orderDetails = useSelector((state) => state.orderDetails);\r\n  const { order, error, loading } = orderDetails;\r\n\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { userInfo } = userLogin;\r\n\r\n  const orderDeliver = useSelector((state) => state.orderDeliver);\r\n  const { success: successDeliver, loading: loadingDeliver } = orderDeliver;\r\n\r\n  useEffect(() => {\r\n    if (!userInfo) {\r\n      dispatch(logout());\r\n      navigate(\"/login\");\r\n    }\r\n    dispatch(getOrder(id));\r\n    if (successDeliver) {\r\n      dispatch({ type: DELIVER_ORDER_RESET });\r\n      dispatch(getOrder(id));\r\n    }\r\n  }, [dispatch, navigate, id, successDeliver, userInfo]);\r\n\r\n  const deliverHandler = () => {\r\n    dispatch(deliverOrder(order));\r\n  };\r\n\r\n  const receiptHandler = async () => {\r\n    setSent(true);\r\n    try {\r\n      await axios.post(\"http://localhost:3000/send_thankyou\", {\r\n        order,\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Container>\r\n        {sent && (\r\n          <Message variant=\"success\">Receipt was sent toy our email</Message>\r\n        )}\r\n        {error && <Message variant=\"danger\">{error}</Message>}\r\n        {loading && <Loader />}\r\n        {order && (\r\n          <>\r\n            <h1>Order: {order._id}</h1>\r\n            <Row>\r\n              <Col md={8}>\r\n                <ListGroup variant=\"flush\">\r\n                  <ListGroup.Item>\r\n                    <h2>Shipping</h2>\r\n                    <p>\r\n                      <strong>Name: </strong> {order.user.name}\r\n                    </p>\r\n                    <p>\r\n                      <strong>Email: </strong>\r\n                      {order.user.email}\r\n                    </p>\r\n                    <p>\r\n                      <strong>Address: </strong>\r\n                      {order.shippingAddress.address}{\" \"}\r\n                      {order.shippingAddress.city},{\" \"}\r\n                      {order.shippingAddress.state}{\" \"}\r\n                      {order.shippingAddress.postalCode}\r\n                      {\", \"}\r\n                      {order.shippingAddress.country}\r\n                    </p>\r\n                    {order.isDelivered ? (\r\n                      <Message variant=\"success\">\r\n                        Delivered on {order.deliveredAt.slice(0, 10)}\r\n                      </Message>\r\n                    ) : (\r\n                      <Message variant=\"danger\">Order is not delivered</Message>\r\n                    )}\r\n                  </ListGroup.Item>\r\n\r\n                  <ListGroup.Item>\r\n                    <h2>Payment Method</h2>\r\n                    <p>\r\n                      <strong>Method: </strong>\r\n                      {order.paymentMethod}\r\n                    </p>\r\n                    {order.isPaid ? (\r\n                      <Message variant=\"success\">\r\n                        Paid on {order.paidAt.slice(0, 10)}\r\n                      </Message>\r\n                    ) : (\r\n                      <Message variant=\"danger\">Order is not paid.</Message>\r\n                    )}\r\n                  </ListGroup.Item>\r\n\r\n                  <ListGroup.Item>\r\n                    <h2>Order Items</h2>\r\n                    {order.orderItems.length === 0 ? (\r\n                      <Message>Order is empty!</Message>\r\n                    ) : (\r\n                      <ListGroup variant=\"flush\">\r\n                        {order.orderItems.map((item, index) => (\r\n                          <ListGroup.Item key={index}>\r\n                            <Row>\r\n                              <Col md={1}>\r\n                                <Image\r\n                                  src={item.image}\r\n                                  alt={item.name}\r\n                                  fluid\r\n                                  rounded\r\n                                />\r\n                              </Col>\r\n                              <Col md={3}>\r\n                                <Link to={`/product/${item.productId}`}>\r\n                                  {item.name}\r\n                                </Link>\r\n                              </Col>\r\n                              <Col md={2}>Qty: {item.qty}</Col>\r\n                              <Col md={2}>Price: ${item.price}</Col>\r\n                              <Col md={4}>\r\n                                Total: {item.qty} * ${item.price} = $\r\n                                {`${(item.qty * item.price).toFixed(2)}`}\r\n                              </Col>\r\n                            </Row>\r\n                          </ListGroup.Item>\r\n                        ))}\r\n                      </ListGroup>\r\n                    )}\r\n                  </ListGroup.Item>\r\n                </ListGroup>\r\n              </Col>\r\n              <Col md={4}>\r\n                <Card>\r\n                  <ListGroup variant=\"flush\">\r\n                    <ListGroup.Item>\r\n                      <h2>Order Summary</h2>\r\n                    </ListGroup.Item>\r\n                    <ListGroup.Item>\r\n                      <Row>\r\n                        <Col>Items</Col>\r\n                        <Col>${order.itemsPrice.toFixed(2)}</Col>\r\n                      </Row>\r\n                    </ListGroup.Item>\r\n                    <ListGroup.Item>\r\n                      <Row>\r\n                        <Col>Shipping</Col>\r\n                        <Col>${order.shippingPrice.toFixed(2)}</Col>\r\n                      </Row>\r\n                    </ListGroup.Item>\r\n                    <ListGroup.Item>\r\n                      <Row>\r\n                        <Col>Tax</Col>\r\n                        <Col>${order.taxPrice.toFixed(2)}</Col>\r\n                      </Row>\r\n                    </ListGroup.Item>\r\n                    <ListGroup.Item>\r\n                      <Row>\r\n                        <Col>Total</Col>\r\n                        <Col>${order.totalPrice.toFixed(2)}</Col>\r\n                      </Row>\r\n                    </ListGroup.Item>\r\n                    <ListGroup.Item>\r\n                      <Button onClick={receiptHandler} variant=\"dark\">\r\n                        Email Receipt\r\n                      </Button>\r\n                    </ListGroup.Item>\r\n                    {loadingDeliver && <Loader />}\r\n                    {userInfo &&\r\n                      userInfo.isAdmin &&\r\n                      order.isPaid &&\r\n                      !order.isDelivered && (\r\n                        <ListGroup.Item>\r\n                          <Button\r\n                            type=\"button\"\r\n                            className=\"btn btn-block\"\r\n                            onClick={deliverHandler}\r\n                          >\r\n                            {\" \"}\r\n                            Mark As Delivered\r\n                          </Button>\r\n                        </ListGroup.Item>\r\n                      )}\r\n                  </ListGroup>\r\n                </Card>\r\n              </Col>\r\n            </Row>\r\n          </>\r\n        )}\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OrderScreen;\r\n"]},"metadata":{},"sourceType":"module"}