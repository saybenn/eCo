{"ast":null,"code":"import axios from \"axios\";\nimport { PRODUCT_CREATE_FAIL, PRODUCT_CREATE_REQUEST, PRODUCT_CREATE_SUCCESS, PRODUCT_DELETE_FAIL, PRODUCT_DELETE_REQUEST, PRODUCT_DELETE_SUCCESS, PRODUCT_DETAILS_FAIL, PRODUCT_DETAILS_REQUEST, PRODUCT_DETAILS_SUCCESS, PRODUCT_LIST_FAIL, PRODUCT_LIST_REQUEST, PRODUCT_LIST_SUCCESS, PRODUCT_REVIEW_FAIL, PRODUCT_REVIEW_REQUEST, PRODUCT_REVIEW_SUCCESS, PRODUCT_UPDATE_FAIL, PRODUCT_UPDATE_REQUEST, PRODUCT_UPDATE_SUCCESS, TOP_PRODUCTS_FAIL, TOP_PRODUCTS_REQUEST, TOP_PRODUCTS_SUCCESS } from \"../constants/productConstants\";\nexport const getProducts = function () {\n  let keyword = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  let pageNumber = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n  return async dispatch => {\n    try {\n      dispatch({\n        type: PRODUCT_LIST_REQUEST\n      });\n      const {\n        data\n      } = await axios.get(`/api/products?keyword=${keyword}&pageNumber=${pageNumber}`);\n      dispatch({\n        type: PRODUCT_LIST_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      dispatch({\n        type: PRODUCT_LIST_FAIL,\n        payload: error.response && error.response.data.message ? error.response.data.message : error.message\n      });\n    }\n  };\n};\nexport const getTopProducts = () => async dispatch => {\n  try {\n    dispatch({\n      type: TOP_PRODUCTS_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(\"/api/products/top\");\n    dispatch({\n      type: TOP_PRODUCTS_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: TOP_PRODUCTS_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const getProductDetails = id => async dispatch => {\n  try {\n    dispatch({\n      type: PRODUCT_DETAILS_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(`/api/products/${id}`);\n    dispatch({\n      type: PRODUCT_DETAILS_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_DETAILS_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const createReview = (id, rating, comment) => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: PRODUCT_REVIEW_REQUEST\n    });\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    };\n    const {\n      data\n    } = await axios.post(`/api/products/${id}/review`, {\n      rating,\n      comment\n    }, config);\n    dispatch({\n      type: PRODUCT_REVIEW_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_REVIEW_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const createProduct = () => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: PRODUCT_CREATE_REQUEST\n    });\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    };\n    const {\n      data\n    } = await axios.post(`/api/products/`, config);\n    dispatch({\n      type: PRODUCT_CREATE_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_CREATE_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const deleteProduct = id => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: PRODUCT_DELETE_REQUEST\n    });\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    };\n    const {\n      data\n    } = await axios.delete(`/api/products/${id}`, config);\n    dispatch({\n      type: PRODUCT_DELETE_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_DELETE_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const updateProduct = function (_id, name, price, image, brand, category, description, countInStock) {\n  let options = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : null;\n  let optionName = arguments.length > 9 && arguments[9] !== undefined ? arguments[9] : null;\n  return async (dispatch, getState) => {\n    console.log(name);\n\n    try {\n      dispatch({\n        type: PRODUCT_UPDATE_REQUEST\n      });\n      const {\n        userLogin: {\n          userInfo\n        }\n      } = getState();\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${userInfo.token}`\n        }\n      };\n      const {\n        data\n      } = await axios.put(`/api/products/${_id}`, {\n        _id,\n        name,\n        price,\n        image,\n        brand,\n        category,\n        description,\n        countInStock,\n        options,\n        optionName\n      }, config);\n      dispatch({\n        type: PRODUCT_UPDATE_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      dispatch({\n        type: PRODUCT_UPDATE_FAIL,\n        payload: error.response && error.response.data.message ? error.response.data.message : error.message\n      });\n    }\n  };\n};","map":{"version":3,"sources":["C:/Users/elijr/Desktop/CODING/Personal Projects/Portfolio/eco/frontend/src/actions/productActions.js"],"names":["axios","PRODUCT_CREATE_FAIL","PRODUCT_CREATE_REQUEST","PRODUCT_CREATE_SUCCESS","PRODUCT_DELETE_FAIL","PRODUCT_DELETE_REQUEST","PRODUCT_DELETE_SUCCESS","PRODUCT_DETAILS_FAIL","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_REVIEW_FAIL","PRODUCT_REVIEW_REQUEST","PRODUCT_REVIEW_SUCCESS","PRODUCT_UPDATE_FAIL","PRODUCT_UPDATE_REQUEST","PRODUCT_UPDATE_SUCCESS","TOP_PRODUCTS_FAIL","TOP_PRODUCTS_REQUEST","TOP_PRODUCTS_SUCCESS","getProducts","keyword","pageNumber","dispatch","type","data","get","payload","error","response","message","getTopProducts","getProductDetails","id","createReview","rating","comment","getState","userLogin","userInfo","config","headers","Authorization","token","post","createProduct","deleteProduct","delete","updateProduct","_id","name","price","image","brand","category","description","countInStock","options","optionName","console","log","put"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport {\r\n  PRODUCT_CREATE_FAIL,\r\n  PRODUCT_CREATE_REQUEST,\r\n  PRODUCT_CREATE_SUCCESS,\r\n  PRODUCT_DELETE_FAIL,\r\n  PRODUCT_DELETE_REQUEST,\r\n  PRODUCT_DELETE_SUCCESS,\r\n  PRODUCT_DETAILS_FAIL,\r\n  PRODUCT_DETAILS_REQUEST,\r\n  PRODUCT_DETAILS_SUCCESS,\r\n  PRODUCT_LIST_FAIL,\r\n  PRODUCT_LIST_REQUEST,\r\n  PRODUCT_LIST_SUCCESS,\r\n  PRODUCT_REVIEW_FAIL,\r\n  PRODUCT_REVIEW_REQUEST,\r\n  PRODUCT_REVIEW_SUCCESS,\r\n  PRODUCT_UPDATE_FAIL,\r\n  PRODUCT_UPDATE_REQUEST,\r\n  PRODUCT_UPDATE_SUCCESS,\r\n  TOP_PRODUCTS_FAIL,\r\n  TOP_PRODUCTS_REQUEST,\r\n  TOP_PRODUCTS_SUCCESS,\r\n} from \"../constants/productConstants\";\r\n\r\nexport const getProducts =\r\n  (keyword = \"\", pageNumber = \"\") =>\r\n  async (dispatch) => {\r\n    try {\r\n      dispatch({ type: PRODUCT_LIST_REQUEST });\r\n\r\n      const { data } = await axios.get(\r\n        `/api/products?keyword=${keyword}&pageNumber=${pageNumber}`\r\n      );\r\n      dispatch({ type: PRODUCT_LIST_SUCCESS, payload: data });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: PRODUCT_LIST_FAIL,\r\n        payload:\r\n          error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n      });\r\n    }\r\n  };\r\n\r\nexport const getTopProducts = () => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: TOP_PRODUCTS_REQUEST });\r\n\r\n    const { data } = await axios.get(\"/api/products/top\");\r\n    dispatch({ type: TOP_PRODUCTS_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: TOP_PRODUCTS_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getProductDetails = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_DETAILS_REQUEST });\r\n\r\n    const { data } = await axios.get(`/api/products/${id}`);\r\n    dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PRODUCT_DETAILS_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const createReview =\r\n  (id, rating, comment) => async (dispatch, getState) => {\r\n    try {\r\n      dispatch({ type: PRODUCT_REVIEW_REQUEST });\r\n\r\n      const {\r\n        userLogin: { userInfo },\r\n      } = getState();\r\n\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n      };\r\n\r\n      const { data } = await axios.post(\r\n        `/api/products/${id}/review`,\r\n        { rating, comment },\r\n        config\r\n      );\r\n      dispatch({ type: PRODUCT_REVIEW_SUCCESS, payload: data });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: PRODUCT_REVIEW_FAIL,\r\n        payload:\r\n          error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n      });\r\n    }\r\n  };\r\n\r\nexport const createProduct = () => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_CREATE_REQUEST });\r\n\r\n    const {\r\n      userLogin: { userInfo },\r\n    } = getState();\r\n\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.post(`/api/products/`, config);\r\n    dispatch({ type: PRODUCT_CREATE_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PRODUCT_CREATE_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteProduct = (id) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_DELETE_REQUEST });\r\n\r\n    const {\r\n      userLogin: { userInfo },\r\n    } = getState();\r\n\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.delete(`/api/products/${id}`, config);\r\n\r\n    dispatch({ type: PRODUCT_DELETE_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PRODUCT_DELETE_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateProduct =\r\n  (\r\n    _id,\r\n    name,\r\n    price,\r\n    image,\r\n    brand,\r\n    category,\r\n    description,\r\n    countInStock,\r\n    options = null,\r\n    optionName = null\r\n  ) =>\r\n  async (dispatch, getState) => {\r\n    console.log(name);\r\n    try {\r\n      dispatch({ type: PRODUCT_UPDATE_REQUEST });\r\n\r\n      const {\r\n        userLogin: { userInfo },\r\n      } = getState();\r\n\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n      };\r\n\r\n      const { data } = await axios.put(\r\n        `/api/products/${_id}`,\r\n        {\r\n          _id,\r\n          name,\r\n          price,\r\n          image,\r\n          brand,\r\n          category,\r\n          description,\r\n          countInStock,\r\n          options,\r\n          optionName,\r\n        },\r\n        config\r\n      );\r\n\r\n      dispatch({ type: PRODUCT_UPDATE_SUCCESS, payload: data });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: PRODUCT_UPDATE_FAIL,\r\n        payload:\r\n          error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n      });\r\n    }\r\n  };\r\n"]},"metadata":{},"sourceType":"module"}