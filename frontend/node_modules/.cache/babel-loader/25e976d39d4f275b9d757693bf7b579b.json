{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\elijr\\\\Desktop\\\\CODING\\\\Personal Projects\\\\Portfolio\\\\eco\\\\frontend\\\\src\\\\screens\\\\OrderReviewScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { PayPalButton } from \"react-paypal-button-v2\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport { Row, Col, ListGroup, Image, Card, Button } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Container from \"../components/Container\";\nimport Message from \"../components/Message\";\nimport Loader from \"../components/Loader\";\nimport { getOrder, payOrder, deliverOrder } from \"../actions/orderActions\";\nimport { PAY_ORDER_RESET, DELIVER_ORDER_RESET } from \"../constants/orderConstants\";\nimport { logout } from \"../actions/userActions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst OrderScreen = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [sdkReady, setSdkReady] = useState(false);\n  const {\n    id\n  } = useParams();\n  const orderDetails = useSelector(state => state.orderDetails);\n  const {\n    order,\n    error,\n    loading\n  } = orderDetails;\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin;\n  const orderDeliver = useSelector(state => state.orderDeliver);\n  const {\n    success: successDeliver,\n    loading: loadingDeliver\n  } = orderDeliver;\n  useEffect(() => {\n    if (!userInfo) {\n      dispatch(logout());\n      navigate(\"/login\");\n    }\n\n    if (successDeliver) {\n      dispatch({\n        type: DELIVER_ORDER_RESET\n      });\n      dispatch(getOrder(id));\n    }\n  }, [dispatch, navigate, id, successDeliver, userInfo]);\n\n  const deliverHandler = () => {\n    dispatch(deliverOrder(order));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [error && /*#__PURE__*/_jsxDEV(Message, {\n        variant: \"danger\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 19\n      }, this), loading && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }, this), order && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"Order: \", order._id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 8,\n            children: /*#__PURE__*/_jsxDEV(ListGroup, {\n              variant: \"flush\",\n              children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  children: \"Shipping\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 61,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Name: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 63,\n                    columnNumber: 23\n                  }, this), \" \", order.user.name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 62,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Email: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 66,\n                    columnNumber: 23\n                  }, this), order.user.email]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 65,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Address: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 70,\n                    columnNumber: 23\n                  }, this), order.shippingAddress.address, \" \", order.shippingAddress.city, \",\", \" \", order.shippingAddress.state, \" \", order.shippingAddress.postalCode, \", \", order.shippingAddress.country]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 21\n                }, this), order.isDelivered ? /*#__PURE__*/_jsxDEV(Message, {\n                  variant: \"success\",\n                  children: [\"Delivered on \", order.deliveredAt.slice(0, 10)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(Message, {\n                  variant: \"danger\",\n                  children: \"Order is not delivered\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  children: \"Payment Method\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Method: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 90,\n                    columnNumber: 23\n                  }, this), order.paymentMethod]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 21\n                }, this), order.isPaid ? /*#__PURE__*/_jsxDEV(Message, {\n                  variant: \"success\",\n                  children: [\"Paid on \", order.paidAt.slice(0, 10)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(Message, {\n                  variant: \"danger\",\n                  children: \"Order is not paid.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  children: \"Order Items\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 21\n                }, this), order.orderItems.length === 0 ? /*#__PURE__*/_jsxDEV(Message, {\n                  children: \"Order is empty!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(ListGroup, {\n                  variant: \"flush\",\n                  children: order.orderItems.map((item, index) => /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                    children: /*#__PURE__*/_jsxDEV(Row, {\n                      children: [/*#__PURE__*/_jsxDEV(Col, {\n                        md: 1,\n                        children: /*#__PURE__*/_jsxDEV(Image, {\n                          src: item.image,\n                          alt: item.name,\n                          fluid: true,\n                          rounded: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 112,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 111,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(Col, {\n                        children: /*#__PURE__*/_jsxDEV(Link, {\n                          to: `/product/${item.productId}`,\n                          children: item.name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 120,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 119,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(Col, {\n                        md: 4,\n                        children: [item.qty, \" * $\", item.price, \" = $\", item.qty * item.price]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 124,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 110,\n                      columnNumber: 29\n                    }, this)\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 109,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              children: /*#__PURE__*/_jsxDEV(ListGroup, {\n                variant: \"flush\",\n                children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                  children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                    children: \"Order Summary\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                  children: /*#__PURE__*/_jsxDEV(Row, {\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      children: \"Items\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 144,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      children: [\"$\", order.itemsPrice.toFixed(2)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 145,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 143,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                  children: /*#__PURE__*/_jsxDEV(Row, {\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      children: \"Shipping\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 150,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      children: [\"$\", order.shippingPrice.toFixed(2)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 151,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 149,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                  children: /*#__PURE__*/_jsxDEV(Row, {\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      children: \"Tax\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 156,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      children: [\"$\", order.taxPrice.toFixed(2)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 157,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                  children: /*#__PURE__*/_jsxDEV(Row, {\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      children: \"Total\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 162,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      children: [\"$\", order.totalPrice.toFixed(2)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 163,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 21\n                }, this), loadingDeliver && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 40\n                }, this), userInfo && userInfo.isAdmin && order.isPaid && !order.isDelivered && /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    type: \"button\",\n                    className: \"btn btn-block\",\n                    onClick: deliverHandler,\n                    children: [\" \", \"Mark As Delivered\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 173,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(OrderScreen, \"cKjzn/+2sJTNWaVMk2K5sqQ1s98=\", false, function () {\n  return [useDispatch, useNavigate, useParams, useSelector, useSelector, useSelector];\n});\n\n_c = OrderScreen;\nexport default OrderScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderScreen\");","map":{"version":3,"sources":["C:/Users/elijr/Desktop/CODING/Personal Projects/Portfolio/eco/frontend/src/screens/OrderReviewScreen.js"],"names":["React","useEffect","useState","axios","PayPalButton","Link","useNavigate","useParams","Row","Col","ListGroup","Image","Card","Button","useDispatch","useSelector","Container","Message","Loader","getOrder","payOrder","deliverOrder","PAY_ORDER_RESET","DELIVER_ORDER_RESET","logout","OrderScreen","dispatch","navigate","sdkReady","setSdkReady","id","orderDetails","state","order","error","loading","userLogin","userInfo","orderDeliver","success","successDeliver","loadingDeliver","type","deliverHandler","_id","user","name","email","shippingAddress","address","city","postalCode","country","isDelivered","deliveredAt","slice","paymentMethod","isPaid","paidAt","orderItems","length","map","item","index","image","productId","qty","price","itemsPrice","toFixed","shippingPrice","taxPrice","totalPrice","isAdmin"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { PayPalButton } from \"react-paypal-button-v2\";\r\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\r\nimport { Row, Col, ListGroup, Image, Card, Button } from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Container from \"../components/Container\";\r\nimport Message from \"../components/Message\";\r\nimport Loader from \"../components/Loader\";\r\nimport { getOrder, payOrder, deliverOrder } from \"../actions/orderActions\";\r\nimport {\r\n  PAY_ORDER_RESET,\r\n  DELIVER_ORDER_RESET,\r\n} from \"../constants/orderConstants\";\r\nimport { logout } from \"../actions/userActions\";\r\n\r\nconst OrderScreen = () => {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const [sdkReady, setSdkReady] = useState(false);\r\n\r\n  const { id } = useParams();\r\n\r\n  const orderDetails = useSelector((state) => state.orderDetails);\r\n  const { order, error, loading } = orderDetails;\r\n\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { userInfo } = userLogin;\r\n\r\n  const orderDeliver = useSelector((state) => state.orderDeliver);\r\n  const { success: successDeliver, loading: loadingDeliver } = orderDeliver;\r\n\r\n  useEffect(() => {\r\n    if (!userInfo) {\r\n      dispatch(logout());\r\n      navigate(\"/login\");\r\n    }\r\n\r\n    if (successDeliver) {\r\n      dispatch({ type: DELIVER_ORDER_RESET });\r\n      dispatch(getOrder(id));\r\n    }\r\n  }, [dispatch, navigate, id, successDeliver, userInfo]);\r\n\r\n  const deliverHandler = () => {\r\n    dispatch(deliverOrder(order));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Container>\r\n        {error && <Message variant=\"danger\">{error}</Message>}\r\n        {loading && <Loader />}\r\n        {order && (\r\n          <>\r\n            <h1>Order: {order._id}</h1>\r\n            <Row>\r\n              <Col md={8}>\r\n                <ListGroup variant=\"flush\">\r\n                  <ListGroup.Item>\r\n                    <h2>Shipping</h2>\r\n                    <p>\r\n                      <strong>Name: </strong> {order.user.name}\r\n                    </p>\r\n                    <p>\r\n                      <strong>Email: </strong>\r\n                      {order.user.email}\r\n                    </p>\r\n                    <p>\r\n                      <strong>Address: </strong>\r\n                      {order.shippingAddress.address}{\" \"}\r\n                      {order.shippingAddress.city},{\" \"}\r\n                      {order.shippingAddress.state}{\" \"}\r\n                      {order.shippingAddress.postalCode}\r\n                      {\", \"}\r\n                      {order.shippingAddress.country}\r\n                    </p>\r\n                    {order.isDelivered ? (\r\n                      <Message variant=\"success\">\r\n                        Delivered on {order.deliveredAt.slice(0, 10)}\r\n                      </Message>\r\n                    ) : (\r\n                      <Message variant=\"danger\">Order is not delivered</Message>\r\n                    )}\r\n                  </ListGroup.Item>\r\n\r\n                  <ListGroup.Item>\r\n                    <h2>Payment Method</h2>\r\n                    <p>\r\n                      <strong>Method: </strong>\r\n                      {order.paymentMethod}\r\n                    </p>\r\n                    {order.isPaid ? (\r\n                      <Message variant=\"success\">\r\n                        Paid on {order.paidAt.slice(0, 10)}\r\n                      </Message>\r\n                    ) : (\r\n                      <Message variant=\"danger\">Order is not paid.</Message>\r\n                    )}\r\n                  </ListGroup.Item>\r\n\r\n                  <ListGroup.Item>\r\n                    <h2>Order Items</h2>\r\n                    {order.orderItems.length === 0 ? (\r\n                      <Message>Order is empty!</Message>\r\n                    ) : (\r\n                      <ListGroup variant=\"flush\">\r\n                        {order.orderItems.map((item, index) => (\r\n                          <ListGroup.Item key={index}>\r\n                            <Row>\r\n                              <Col md={1}>\r\n                                <Image\r\n                                  src={item.image}\r\n                                  alt={item.name}\r\n                                  fluid\r\n                                  rounded\r\n                                />\r\n                              </Col>\r\n                              <Col>\r\n                                <Link to={`/product/${item.productId}`}>\r\n                                  {item.name}\r\n                                </Link>\r\n                              </Col>\r\n                              <Col md={4}>\r\n                                {item.qty} * ${item.price} = $\r\n                                {item.qty * item.price}\r\n                              </Col>\r\n                            </Row>\r\n                          </ListGroup.Item>\r\n                        ))}\r\n                      </ListGroup>\r\n                    )}\r\n                  </ListGroup.Item>\r\n                </ListGroup>\r\n              </Col>\r\n              <Col md={4}>\r\n                <Card>\r\n                  <ListGroup variant=\"flush\">\r\n                    <ListGroup.Item>\r\n                      <h2>Order Summary</h2>\r\n                    </ListGroup.Item>\r\n                    <ListGroup.Item>\r\n                      <Row>\r\n                        <Col>Items</Col>\r\n                        <Col>${order.itemsPrice.toFixed(2)}</Col>\r\n                      </Row>\r\n                    </ListGroup.Item>\r\n                    <ListGroup.Item>\r\n                      <Row>\r\n                        <Col>Shipping</Col>\r\n                        <Col>${order.shippingPrice.toFixed(2)}</Col>\r\n                      </Row>\r\n                    </ListGroup.Item>\r\n                    <ListGroup.Item>\r\n                      <Row>\r\n                        <Col>Tax</Col>\r\n                        <Col>${order.taxPrice.toFixed(2)}</Col>\r\n                      </Row>\r\n                    </ListGroup.Item>\r\n                    <ListGroup.Item>\r\n                      <Row>\r\n                        <Col>Total</Col>\r\n                        <Col>${order.totalPrice.toFixed(2)}</Col>\r\n                      </Row>\r\n                    </ListGroup.Item>\r\n\r\n                    {loadingDeliver && <Loader />}\r\n                    {userInfo &&\r\n                      userInfo.isAdmin &&\r\n                      order.isPaid &&\r\n                      !order.isDelivered && (\r\n                        <ListGroup.Item>\r\n                          <Button\r\n                            type=\"button\"\r\n                            className=\"btn btn-block\"\r\n                            onClick={deliverHandler}\r\n                          >\r\n                            {\" \"}\r\n                            Mark As Delivered\r\n                          </Button>\r\n                        </ListGroup.Item>\r\n                      )}\r\n                  </ListGroup>\r\n                </Card>\r\n              </Col>\r\n            </Row>\r\n          </>\r\n        )}\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OrderScreen;\r\n"]},"metadata":{},"sourceType":"module"}